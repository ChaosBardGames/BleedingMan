<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8">
      <link rel="stylesheet" href="Main.css" type="text/css">
      <title>Bleeding Man</title>
      
      <script>
        let BloodLeft = 60;
        let BloodCost = 0;
        let PrestigeCount = 0;
        let BloodDrain = PrestigeCount + 1;
        let SecondsLived = 0;
        let Bandages = 0;
        document.getElementById("Bandage").style.display = "none";
        document.getElementById("Prestige").style.display = "none";
      </script>
      
    </head>
    <body>
      
      <p id="BloodLeft">You have 60 blood left!</p>
      
      <button id="Breathe">Breathe</button> <!--Breathing Button-->

      <button id="Bandage">Bandage your wounds</button> <!--Bandaging Wounds Button-->

      <button id="Prestige">Wake up Neo</button> <!--Rebirth Button-->

      <script>
        const BreatheBloodCost = () => { 
          BloodCost = 1/BloodDrain; //The amount of blood lost while breathing//
          SecondsLived = SecondsLived + 1;
        }

        const BandagingBloodCost = () => {
          BloodCost = 10/BloodDrain; //The amount of blood lost while bandaging
          SecondsLived = SecondsLived + 5;
        }
        
        const BloodUpdate = () => {
          BloodLeft = BloodLeft - BloodCost; //Decrements Blood based on BloodCost//
          document.getElementById("BloodLeft").innerHTML = `You have ${BloodLeft} blood left.`; //Changes the visible Blood value//
          
          if (BloodLeft <= 0) { //if all Blood is gone//
            document.getElementById("Breathe").style.display = "none";
            document.getElementById("BloodLeft").innerHTML = `You have ${BloodLeft} blood left. As such, your life has ended.`;
            document.getElementById("Prestige").style.display = "block";
            document.getElementById("Bandage").style.display = "none";
          }
        }

        const Bandaging = () => {
          Bandages = Bandages + 1;
          const BlDr = PrestigeCount + (Bandages / 3) + 1;
          BloodDrain = BlDr.toFixed(2);
        }

        const Prestige = () => {
          PrestigeCount = PrestigeCount + (SecondsLived / 60);
          if (PrestigeCount >= 1) { //Gives upgrades based off prestige//
            document.getElementById("Bandage").style.display = "block";
          }
          BloodDrain = PrestigeCount.toFixed(2) + 1;
          BloodLeft = 60;
          SecondsLived = 0;
          Bandages = 0;
          document.getElementById("Breathe").style.display = "block";
          document.getElementById("Prestige").style.display = "none";
        }

        document.getElementById("Breathe").addEventListener("click", BreatheBloodCost); //Updates Blood Drain//
        document.getElementById("Breathe").addEventListener("click", BloodUpdate); //Updates Blood Counter//
        document.getElementById("Prestige").addEventListener("click", Prestige); //Prestiges//
        document.getElementById("Bandage").addEventListener("click", BandagingBloodCost); //Updates Blood Drain//
        document.getElementById("Bandage").addEventListener("click", BloodUpdate); //Updates Blood Counter//
        document.getElementById("Bandage").addEventListener("click", Bandaging); //Updates Bandage #//
      </script>
      
    </body>
  </html>
