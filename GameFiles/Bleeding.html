<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8">
      <link rel="stylesheet" href="Main.css" type="text/css">
      <title>Bleeding Man</title>
      
      <script>
          let BloodLeft = 60;
          let BloodCost = 0;
          let Will = 0;
          let BloodDrain = 1;
          let SecondsLived = 0;
          let Bandages = 0;
          let TimesBreathed = 0;
          let TimesBandaged = 0;
          let TimesFocused = 0;
          let Focus = 0;
        function Launch() { //Hides Bandage, Wake Up Neo and the Will counter//
          document.getElementById("Bandage").style.display = "none";
          document.getElementById("Prestige").style.display = "none";
          document.getElementById("WillCounter").style.display = "none";
          document.getElementById("Focus").style.display = "none";
        }
        window.onload = Launch;
      </script>
      
    </head>


    
    <body>
      
      <p id="BloodLeft">You have 60 blood left!</p>
      <p id="WillCounter">You have 0 Will!</p>
      <button id="Breathe" class="Button BloodSucker">Breathe</button> <!--Breathing Button-->

      <button id="Bandage" class="Button BloodSucker">Bandage your wounds</button> <!--Bandaging Wounds Button-->

      <button id="Prestige" class="Button">Wake up Neo</button> <!--Rebirth Button-->

      <button id="Focus" class="Button BloodSucker">Focus</button> <!--Focus Button-->

      <script>
        const BreatheBloodCost = () => { 
          BloodCost = (1 + TimesBreathed)/BloodDrain; //The amount of blood lost while breathing//
          SecondsLived = SecondsLived + 5;
          TimesBreathed = TimesBreathed + 1;
        }

        const BandagingBloodCost = () => {
          BloodCost = ((10 * TimesBandaged) + 10) / BloodDrain; //The amount of blood lost while bandaging//
          SecondsLived = SecondsLived + 10;
          TimesBandaged = TimesBandaged + 1;
        }

        const FocusBloodCost = () => {
          BloodCost = (15 + (TimesFocused * 5)) / (BloodDrain * 2);
          SecondsLived = SecondsLived + 5;
          TimesFocused = TimesFocused + 1;
        }
        
        const BloodUpdate = () => {
          BloodLeft = BloodLeft - BloodCost; //Decrements Blood based on BloodCost//
          BloodLeft = BloodLeft.toFixed(2); //Rounds Blood to two decimal places//
          document.getElementById("BloodLeft").innerHTML = `You have ${BloodLeft} Blood left.`; //Changes the visible Blood value//
          
          if (BloodLeft <= 0) { //if all Blood is gone//
            BloodLeft = 0;
            document.getElementById("Breathe").style.display = "none";
            document.getElementById("BloodLeft").innerHTML = `You have ${BloodLeft} blood left. As such, your life has ended.`;
            document.getElementById("Prestige").style.display = "block";
            document.getElementById("Bandage").style.display = "none";
          }
        }

        const Bandaging = () => {
          Bandages = Bandages + 1;
          const BlDr = Will + (Bandages / 2) + 1;
          BloodDrain = BlDr.toFixed(2);
        }

        const Focus = () => {
          Focus = Focus + 1;
        }

        const Prestige = () => {
          Will = Will + (SecondsLived / 60)(Focus + 1);
          if (Will >= 1) { //Unlocks bandages//
            document.getElementById("Bandage").style.display = "block";
          }
          if (Will >= 10) { //Unlocks focus//
            document.getElementById("Focus").style.display = "block";
          }
          BloodDrain = Will.toFixed(2) + 1; //Sets BloodDrain to its new value//
          BloodLeft = 60;      //Resets variables//
          SecondsLived = 0;
          Bandages = 0;
          TimesBreathed = 0;
          TimesBandaged = 0;
          TimesFocused = 0;
          document.getElementById("Breathe").style.display = "block"; //Shows Breathe//
          document.getElementById("Prestige").style.display = "none"; //Hides Prestige//
        }

        const Will = () => {
          if (Will > 0) {
            document.getElementById("WillCounter").style.display = "block";
            document.getElementById("WillCounter").innerHTML = `You have ${WillCount} Will.`;
        }

        document.getElementById("Focus").addEventListener("click", FocusBloodCost); //Updates Blood Drain//
        document.getElementById("Breathe").addEventListener("click", BreatheBloodCost); //Updates Blood Drain//
        document.getElementById("Prestige").addEventListener("click", Prestige); //Prestiges//
        document.getElementById("Bandage").addEventListener("click", BandagingBloodCost); //Updates Blood Drain//
        
        document.getElementById("Bandage").addEventListener("click", Bandaging); //Updates Bandage #//
        document.getElementById("Focus").addEventListener("click", Focusing): //Updates Focus #//
        
        document.getElementByClassName("Button").addEventListener("click", Will); //Updates Will Counter//
        document.getElementByClassName("BloodSucker").addEventListener("click", BloodUpdate); //Updates Blood Counter//
      </script>
      
    </body>
  </html>
